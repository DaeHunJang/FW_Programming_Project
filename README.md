# STM32F10x 기반 모터 제어 시스템

## 프로젝트 개요
이 프로젝트는 STM32F10x 마이크로컨트롤러를 기반으로 한 모터 제어 시스템입니다. 다양한 주변장치와 통신을 통해 모터를 제어하고 시스템을 모니터링할 수 있습니다.

## 주요 기능

### 1. 모터 제어 시스템
- DC 모터 속도 및 방향 제어
- PWM을 통한 모터 속도 조절
- 모터 상태 모니터링

### 2. 통신 인터페이스
- UART 통신 (시리얼 통신)
  - PC와의 데이터 송수신
  - 디버깅 및 모니터링
- SPI 통신
  - 외부 장치와의 고속 통신
  - 센서 데이터 수집

### 3. 입력 처리
- 키 입력 처리
- 아날로그 입력 처리 (ADC)
  - 센서 데이터 수집
  - 아날로그 신호 처리

### 4. 타이밍 제어
- 시스템 타이머 (SysTick)
- 일반 타이머
  - PWM 생성
  - 시간 측정
  - 이벤트 타이밍

## 프로젝트 구조
```
.
├── src/                    # 소스 파일
│   ├── main.c             # 메인 프로그램
│   ├── motor.c            # 모터 제어
│   ├── key.c              # 키 입력 처리
│   ├── uart.c             # UART 통신
│   ├── spi.c              # SPI 통신
│   ├── timer.c            # 타이머 제어
│   ├── adc.c              # ADC 처리
│   ├── systick.c          # 시스템 타이머
│   └── clock.c            # 클럭 설정
├── inc/                    # 헤더 파일
│   ├── device_driver.h    # 디바이스 드라이버
│   ├── macro.h            # 매크로 정의
│   └── option.h           # 옵션 설정
├── Makefile               # 빌드 설정
└── README.md             # 프로젝트 문서
```

## 빌드 및 실행

### 요구사항
- ARM GCC 컴파일러 (arm-none-eabi-gcc)
- Make
- ST-Link (디버깅 및 프로그래밍)

### 빌드 방법
```bash
# 프로젝트 클론
git clone [repository-url]
cd [project-directory]

# 빌드
make clean
make

# 바이너리 파일 생성
make bin
```

### 프로그래밍
1. ST-Link를 보드에 연결
2. 다음 명령어로 바이너리 파일 업로드:
```bash
st-flash write rom_0x08003000.bin 0x08003000
```

## 메모리 맵
- 프로그램 메모리: 0x08003000
- RAM: 0x20000000
- 주변장치 레지스터: 0x40000000

## 주의사항
1. 전원 공급 시 정격 전압 준수
2. 모터 드라이버 연결 시 올바른 핀 연결 확인
3. 통신 인터페이스 연결 시 레벨 변환 확인